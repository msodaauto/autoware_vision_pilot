# EgoLanes Pipeline Configuration File
# Production-ready .conf format with comments
# Copy this file to VisionPilot.conf and edit as needed

# ============================================
# Simulation Mode Configuration
# ============================================
simulation=true
velocity=80 # km/h

# ============================================
# Mode Configuration
# ============================================
# Mode: "camera" or "video"
mode=camera

# ============================================
# Source Configuration
# ============================================
# Video file path (used when mode=video)
source.video.path=127.0.0.1:5000

# Camera settings (used when mode=camera)
# Set auto_select=true to interactively select camera
# Set auto_select=false and device_id to use specific camera
source.camera.auto_select=false
source.camera.device_id=

# ============================================
# Model Configuration
# ============================================
# EgoLanes model settings
models.egolanes.path=/usr/share/visionpilot/models/EgoLanes_FP32.onnx
models.egolanes.provider=tensorrt
models.egolanes.precision=fp16
models.egolanes.device_id=0
models.egolanes.cache_dir=/home/<USER>/.trt_cache
models.egolanes.threshold=0.0

# AutoSteer model (required)
models.autosteer.path=/usr/share/visionpilot/models/AutoSteer_FP32.onnx

# ============================================
# Steering Control Parameters
# ============================================
# PID controller gains
# Kp: Proportional gain
# Ki: Integral gain  
# Kd: Derivative gain
# Ks: Curvature feedforward gain
steering_control.Kp=0.08
steering_control.Ki=0.2
steering_control.Kd=0.01
steering_control.Ks=1

# ============================================
# Output Configuration
# ============================================
# Visualization and logging
output.enable_viz=true
output.save_video=false
output.output_video_path=<VIDEO_OUTPUT_PATH>
output.measure_latency=true
output.csv_log_path=./metrics_kp0.33_ki0.01_kd-0.40_ks-0.3.csv

# ============================================
# Rerun Logging (optional)
# ============================================
# Enable Rerun for visualization and logging
rerun.enabled=false
rerun.spawn_viewer=true
rerun.save_path=egolanes.rrd

# ============================================
# CAN Interface (optional - ground truth)
# ============================================
# Enable CAN bus interface for ground truth data
can_interface.enabled=false
can_interface.interface_name=can0

